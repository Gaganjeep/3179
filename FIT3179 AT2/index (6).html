<!DOCTYPE html>
<html>
<head>
  <title>Victorian Schools — Locations, Scale & Funding</title>

  <!-- Vega / Vega-Lite / Embed (use v5 for current specs) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- pure.css for the grid -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css"
    integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- Minimal custom style (kept close to the sample) -->
  <style>
    * { font-family: 'Oxygen', sans-serif; line-height: 1.5; }
    body { background-color: #d9d9d9; margin: 0; }
    h1 { font-weight: 900; margin-top: 0; }
    h2 { margin-top: 10px; }

    .page {
      width: 750px;
      background-color: #ffffff;
      margin: auto;
      padding: 70px;
      padding-top: 35px;
    }
    .vis-container { width: 100%; }
    .description-right { padding-left: 10px; }
    .description-left { padding-right: 10px; }
    .pure-g { margin-bottom: 25px; }
    .small-font { font-size: 13px; }
  </style>
</head>

<body>
  <div class="page">

    <!-- Title + intro -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>Victorian Schools — Government vs Non‑Government</h1>
        <p>This single-page report explores Victorian schools by sector (Government, Catholic, Independent), attendance across
           geolocations (Major Cities, Remote, Outer Regional), and funding patterns over time.</p>
      </div>
    </div>

    <!-- Map full width -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <div id="vis-map" class="vis-container"></div>
      </div>
    </div>

    <!-- Caption -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <p>School locations by sector (2024). Use the dropdown in the map to filter by sector and inspect spatial clustering.</p>
      </div>
    </div>

    <!-- Bar + text (side-by-side like sample) -->
    <div class="pure-g">
      <div class="pure-u-1-2">
        <div class="description description-left">
          <h2>How many schools are in each sector?</h2>
          <p>Counts establish relative scale before comparing funding and outcomes. Government typically dominates by number,
             while Catholic and Independent make up substantial shares.</p>
        </div>
      </div>
      <div class="pure-u-1-2">
        <div id="vis-bar" class="vis-container"></div>
      </div>
    </div>

    <!-- Per-student funding full width -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h2>Funding per student over time</h2>
        <div id="vis-perstudent" class="vis-container"></div>
      </div>
    </div>

    <!-- Bubble + text (text below like sample first block) -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h2>Total vs per-student funding</h2>
        <p>Each bubble is a sector-year. X = per-student funding, Y = total funding, size = total funding.</p>
        <div id="vis-bubble" class="vis-container"></div>
      </div>
    </div>

    <!-- Short paragraph -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <p>Diagonal movement suggests totals track per-student changes; vertical movement hints at enrolment effects.</p>
      </div>
    </div>

    <!-- Attendance (side-by-side: text + chart) -->
    <div class="pure-g">
      <div class="pure-u-1-2">
        <div class="description description-right">
          <h2>Attendance — Major Cities vs Remote</h2>
          <p>Comparing attendance by geolocation highlights regional differences over time.
             Use the slider to switch years and compare year levels side-by-side.</p>
        </div>
      </div>
      <div class="pure-u-1-2">
        <div id="vis-remote" class="vis-container"></div>
      </div>
    </div>

    <!-- Attendance 2 (flip sides like sample) -->
    <div class="pure-g">
      <div class="pure-u-1-2">
        <div id="vis-major" class="vis-container"></div>
      </div>
      <div class="pure-u-1-2">
        <div class="description description-right">
          <h2>Major vs Outer Regional</h2>
          <p>Look for transitions between primary and secondary years where attendance drops or plateaus.</p>
        </div>
      </div>
    </div>

    <!-- Footer credit line -->
    <div class="pure-g">
      <div class="pure-u-1-1 small-font">
        <p>Visualisation created by Gagandeep Singh Bachhal. Data sources: Victorian school locations (2024) and sector funding (prepared/cleaned).
           Charts built with Vega‑Lite.</p>
      </div>
    </div>

  </div><!-- end .page -->

  <script type="text/javascript">
    // Specs (existing files from your project)
    var specMap      = "schoolsmap.json";
    var specBar      = "barchart_.json";
    var specPerStud  = "linegraph.json";
    var specBubble   = "bubbleplot.json";
    var specRemote   = "remote2022.json";
    var specMajor    = "major2022.json";

    const OPTS = {"actions": false};

    vegaEmbed('#vis-map',     specMap,     OPTS).catch(console.error);
    vegaEmbed('#vis-bar',     specBar,     OPTS).catch(console.error);
    vegaEmbed('#vis-perstudent', specPerStud, OPTS).catch(console.error);
    vegaEmbed('#vis-bubble',  specBubble,  OPTS).catch(console.error);
    vegaEmbed('#vis-remote',  specRemote,  OPTS).catch(console.error);
    vegaEmbed('#vis-major',   specMajor,   OPTS).catch(console.error);
  </script>
</body>
</html>
