<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Victorian Schools — Locations, Scale &amp; Funding</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
  :root{
    --paper:#ffffff; --bg:#e9ecef;
    --ink:#0f172a; --muted:#475569; --line:#e5e7eb;
    --edu-blue:#2563eb; --edu-green:#16a34a; --edu-gold:#f59e0b; --edu-gray:#64748b;
  }
  *{ box-sizing:border-box; }
  html{ font-size: clamp(16px, 0.9vw + 12px, 20px); }
  body{ margin:0; background: var(--bg); color: var(--ink); font:1rem/1.6 system-ui, Segoe UI, Roboto, Arial, sans-serif; }

  /* PAPER: continuous article page */
  .paper{
    max-width: 980px;
    margin: 24px auto 48px;
    background: var(--paper);
    box-shadow: 0 2px 18px rgba(15,23,42,.06);
    border-radius: 10px;
    padding: clamp(20px, 4vw, 40px);
  }

  header{ margin-bottom: 10px; }
  h1{ margin: 0 0 6px; font-weight: 800; line-height: 1.15; font-size: clamp(1.6rem, 2.4vw, 2.2rem); color: var(--ink); }
  .kicker{ color: var(--edu-blue); text-transform: uppercase; letter-spacing: .05em; font-weight: 700; font-size: .9rem; }
  p.lead{ color: var(--muted); margin: 4px 0 18px; }

  /* Section headings like the example */
  h2{ margin: 28px 0 8px; font-size: clamp(1.15rem, 1.6vw, 1.5rem); color: var(--ink); }
  p{ margin: 0 0 14px; }

  /* Figures are full-bleed inside the paper, with caption below */
  figure{ margin: 28px 0; }
  .vis{ width:100%; min-height: 560px; }
  figcaption{ color: var(--muted); font-size: .95rem; margin-top: 8px; }

  /* Subtle separators */
  .rule{ height:1px; background: var(--line); margin: 32px 0; }

  /* Palette helpers for legend callouts if needed */
  .swatch{ display:inline-block; width:.9em; height:.9em; border-radius:2px; vertical-align: -.1em; margin-right:.35em; }
  .gov{ background:#2563eb; } .cat{ background:#f59e0b; } .ind{ background:#16a34a; }

  footer{ color: var(--muted); font-size: .9rem; margin-top: 32px; }
  a{ color: var(--edu-blue); }
/* Floating text box for notes (bottom-right of chart) */
.text-block {
  position: absolute;
  right: 30px;
  bottom: 30px;
  width: 260px;
  background: rgba(255,255,255,0.9);
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 10px 14px;
  font-size: 0.95rem;
  color: #334155;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}
.chart-wrapper {
  position: relative;
}
</style>
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <main class="paper">
    <header>
      <div class="kicker">Education in Victoria</div>
      <h1>Victorian Schools — Locations, Scale &amp; Funding</h1>
      <p class="lead">A single-page report exploring where schools are located, how many there are by sector, and how funding compares over time.</p>
    </header>

    <h2>Percent of schools by sector and location</h2>
    <p>Filter by sector to explore spatial clustering across Victoria. Colours: <span class="swatch gov"></span>Government, <span class="swatch cat"></span>Catholic, <span class="swatch ind"></span>Independent.</p>
    <figure>
      <div class="vis" id="vis-map"></div>
      <figcaption>School locations by sector (2024). Pan and zoom to inspect local concentrations.</figcaption>
    </figure>

    <div class="rule"></div>

    <h2>How many schools are in each sector?</h2>
    <p>Use this to frame scale and composition before comparing resourcing and outcomes.</p>
    <figure>
      <div class="vis" id="vis-bar"></div>
      <figcaption>Counts by sector.</figcaption>
    </figure>

    <div class="rule"></div>

    <h2>Funding per student over time</h2>
    <p>Average dollars per student by sector, useful for equity comparisons beyond headline totals.</p>
    <figure>
      <div class="vis" id="vis-perstudent"></div>
      <figcaption>Per‑student funding across years. Watch for divergence between sectors.</figcaption>
    </figure>

    <h2>Total vs per‑student funding</h2>
    <p>Each bubble is a sector‑year. X = per‑student funding, Y = total funding, size = total funding.</p>
    <figure>
      <figure class="chart-wrapper"><div class="vis" id="vis-bubble"></div>
  <div class="text-block"><strong>Notes:</strong><br>Placeholder text — write your insights here.</div>
</figure>
      <figcaption>Diagonal movement suggests totals track per‑student changes; vertical movement hints at enrolment effects.</figcaption>
    </figure>

    <div class="rule"></div>

    <h2>Attendance — Major Cities vs Remote</h2>
    <p>Comparing attendance rates across geolocations highlights regional differences over time.</p>
    <figure>
      <div class="vis" id="lollipop"></div>
      <figcaption>Side‑by‑side comparison by year level. Use the slider to switch years.</figcaption>
    </figure>

    <h2>Attendance by year level (Major vs Outer Regional)</h2>
    <p>Inspect transitions between primary and secondary years for drops or plateaus.</p>
    <figure>
      <div class="vis" id="vis-major2022"></div>
      <figcaption>Major Cities vs Outer Regional (select a year).</figcaption>
    </figure>

    <footer>
      Data sources: Victorian school locations (2024) and sector funding (prepared/cleaned). Visuals: Vega‑Lite. Palette: Government <span class="swatch gov"></span>, Catholic <span class="swatch cat"></span>, Independent <span class="swatch ind"></span>.
    </footer>
  </main>

<script>
  const OPTS = { actions: false };
  const log = (name) => (e) => console.error(`[${name}]`, e);

  vegaEmbed("#vis-map", "schoolsmap.json", OPTS).catch(log("schoolsmap.json"));
  vegaEmbed("#vis-bar", "barchart_.json", OPTS).catch(log("barchart_.json"));
  vegaEmbed("#vis-perstudent", "linegraph.json", OPTS).catch(log("linegraph.json"));
  vegaEmbed("#vis-bubble", "bubbleplot.json", OPTS).catch(log("bubbleplot.json"));
  vegaEmbed("#lollipop", "remote2022.json", OPTS).catch(log("remote2022.json"));
  vegaEmbed("#vis-major2022", "major2022.json", OPTS).catch(log("major2022.json"));
</script>
</body>
</html>